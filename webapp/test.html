<script>
import React, { useState, useMemo } from 'react';
import { ChevronDown, ChevronUp, Scroll, Sword, Shield, Activity, Zap, Box, Filter, X, Search, ArrowUp, ArrowDown, ArrowUpDown } from 'lucide-react';

// --- MOCK DATA ---
import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from "react/jsx-runtime";
const initialData = [{
  "id": 1,
  "name": "24",
  "faction": "CHAOS",
  "type": "ATTACK",
  "stats": {
    "CON": "132(1.65)*",
    "ATK": "168(2.1)*",
    "DEF": "76(0.95)*",
    "CritRate": "14.6%(+1.6%)*",
    "CritDamage": "50%",
    "AliemusRegen": "2.4(+0.4)*",
    "KeyflareRegen": "15",
    "RealmMastery": "0",
    "SigilYield": "0%",
    "DamageAmplification": "0%",
    "DeathResistance": "0%"
  },
  "cards": {
    "C1": "[Mediating Personalities] Card Cost: 2 24 gains (25/30/35/40/45/50) Aliemus.Rouse: Rouse has different effects based on the current team's Realm.Chaos: Crit Rate and Crit DMG of 24 +(15/16/17/18/19/20)%. Each time Posse is used, Exalt DMG of 24 +(50/60/70/80/90/100% ATK).Aequor: 24 deals +(50/55/60/65/70/75)% Tentacle DMG additional DMG. Inflict 10% of 24's DMG dealt as Poison. Exalt triggers 50% of Poison stacks on all enemies.Caro: For every point of Arithmetica 24 consumes, Embyro Fusion +5% and gain (1/1.2/1.4/1.6/1.8/2% ATK) STR.Ultra: 24 deals +(20/21/22/23/24/25)% stacks of Counter additional DMG. Shuffle 1 [Insight] into the Discard Pile at the end of the turn. Hand Limit +2.Retain. Exhaust.",
    "C2": "[Strike] Card Cost: 1 Deal (10/12/14/16/18/20% ATK) DMG.Gain (5/6/7/8/9/10) Aliemus.Depressed Persona: Gain 5 Aliemus.Manic Persona: Deal an additional instance of DMG.",
    "C3": "[Defend] Card Cost: 1 Gain (10/12/14/16/18/20% DEF) Shield.Gain (5/6/7/8/9/10) Aliemus.Depressed Persona: Gain 5 Aliemus.Manic Persona: Gain an additional instance of Shield.",
    "C4": "[Symbiotic Abberation] Card Cost: 2 Deal (25/30/35/40/45/50% ATK) DMG to all enemies. Gain 8 Aliemus.Depressed Persona: Grants other Awakeners an equal amount of Aliemus.Manic Persona: Gain 3 times the listed Aliemus.",
    "C5": "[Frenzied Slash] Card Cost: 3 Deal (15/18/21/24/27/30% ATK) DMG to random targets 3 times.Depressed Persona: Reduce the Arithmetica cost of the highest Arithmetica cost Command Card in your hand by 1 and grant it Retain for 1 turn.Manic Persona Deal 2 additional instances of DMG."
  },
  "exalt": {
    "exalt": "[Twisted Carrion Revel] Deal (75/90/105/120/135/150% ATK) Pierce DMG. Each time this Exalt is used, increase its Base DMG by 20% this battle.Switch 24 between Depressed and Manic Personas. Gain additional effects based on the current Realm and Persona.Chaos Depressed Persona: Gain (750/800/850/900/950/1000) Keyflare. Next Posse takes effect 2 times. Manic Persona: Deals 3 instances of DMG. Increase the damage dealt by 24 by ((20/24/28/32/36/40% ATK) for the rest of this battle.Aequor Depressed Persona: Inflict 2 turns of Weakness and Vulnerable. Gain 1 Tentacle. Increase Tentacle DMG by (6.5/7.8/9.1/10.4/11.7/13% ATK). Manic Persona: Deals (600/660/720/780/840/900)% Tentacle DMG additional DMG. Inflict 30% of DMG dealt as Poison to all enemies.Caro Depressed Persona: +(75/80/85/90/95/100)% Embryo Fusion. Accumulate (40/48/56/64/72/80% CON) Crimson Furnace Healing. Manic Persona: STR has 5 times the effect this DMG. Inflict 200% of DMG dealt as Bleed to the target. Gain (6.5/7.8/9.1/10.4/11.7/13% ATK) STR.Ultra Depressed Persona: Add 2 [Insight] cards to hand. Reduce target's STR by (30/36/42/48/54/60% DEF) for 1 turn. Manic Persona: Gain 15% of DMG dealt as Counter, then inflict the same amount as Fixed DMG to other enemies. For each [Insight] played this turn, increase that DMG by (75/90/105/120/135/150% ATK). This effect can stack up to 5 times.",
    "over_exalt": "[Abberant Vivisection] Gain 24 Realm Mastery. 24's next Command Card played activates its effect 3 times."
  },
  "talents": {
    "T1": "Innate: None Talent",
    "T2": "Madness Omen Talent Max level: 12 Gain (5 per talent level) Aliemus at the start of exploration.",
    "T3": "Soulforge Aptitude Talent Max level: 10 This talent is only effective in \"Astral Reign\" stages.24's CON, ATK, and DEF stats increase by (3% per talent level).After using 24's Rouse, gain (50 per talent level) Keyflare.24's Base DMG +17%(+3% per talent level). Final DMG dealt to \"Sculptor's Association\" enemies +13%(+2% per talent level)."
  }
}, {
  "id": 2,
  "name": "Sentinel-X",
  "faction": "ORDER",
  "type": "DEFENSE",
  "stats": {
    "CON": "200(2.5)*",
    "ATK": "90(1.1)*",
    "DEF": "150(2.0)*",
    "CritRate": "5%",
    "CritDamage": "50%",
    "AliemusRegen": "1.0",
    "KeyflareRegen": "10",
    "RealmMastery": "0",
    "SigilYield": "5%",
    "DamageAmplification": "0%",
    "DeathResistance": "15%"
  },
  "cards": {
    "C1": "[Shield Bash] Deal 100% DEF damage.",
    "C2": "[Fortify] Increase DEF by 50% for 2 turns."
  },
  "exalt": {
    "exalt": "Immune to CC."
  },
  "talents": {
    "T1": "Stalwart"
  }
}];

// --- COMPONENTS ---

const Badge = ({
  children,
  color
}) => {
  const colors = {
    red: "bg-red-900/30 text-red-200 border-red-700",
    blue: "bg-blue-900/30 text-blue-200 border-blue-700",
    purple: "bg-purple-900/30 text-purple-200 border-purple-700",
    gray: "bg-slate-700 text-slate-200 border-slate-600"
  };
  return /*#__PURE__*/_jsx("span", {
    className: `px-2 py-1 rounded border text-xs font-bold uppercase tracking-wider ${colors[color] || colors.gray}`,
    children: children
  });
};
const SectionHeader = ({
  icon: Icon,
  title
}) => /*#__PURE__*/_jsxs("div", {
  className: "flex items-center gap-2 mb-3 pb-2 border-b border-slate-700 text-slate-200 font-semibold",
  children: [/*#__PURE__*/_jsx(Icon, {
    size: 18,
    className: "text-indigo-400"
  }), /*#__PURE__*/_jsx("h3", {
    children: title
  })]
});
const SortableHeader = ({
  label,
  sortKey,
  currentSort,
  onSort
}) => {
  const isSorted = currentSort.key === sortKey;
  return /*#__PURE__*/_jsx("th", {
    className: "p-4 font-semibold cursor-pointer hover:bg-slate-800 transition-colors select-none group whitespace-nowrap",
    onClick: () => onSort(sortKey),
    children: /*#__PURE__*/_jsxs("div", {
      className: "flex items-center gap-2",
      children: [label, /*#__PURE__*/_jsx("div", {
        className: "text-slate-500",
        children: isSorted ? currentSort.direction === 'asc' ? /*#__PURE__*/_jsx(ArrowUp, {
          size: 14,
          className: "text-indigo-400"
        }) : /*#__PURE__*/_jsx(ArrowDown, {
          size: 14,
          className: "text-indigo-400"
        }) : /*#__PURE__*/_jsx(ArrowUpDown, {
          size: 14,
          className: "opacity-0 group-hover:opacity-50 transition-opacity"
        })
      })]
    })
  });
};
const DetailRow = ({
  data
}) => {
  const [activeTab, setActiveTab] = useState('formatted');
  return /*#__PURE__*/_jsxs("div", {
    className: "bg-slate-900/50 p-6 rounded-b-lg border-x border-b border-slate-700 shadow-inner animate-in fade-in slide-in-from-top-2 duration-200",
    children: [/*#__PURE__*/_jsxs("div", {
      className: "flex gap-4 mb-6 text-sm border-b border-slate-700",
      children: [/*#__PURE__*/_jsx("button", {
        onClick: () => setActiveTab('formatted'),
        className: `pb-2 px-1 transition-colors ${activeTab === 'formatted' ? 'text-indigo-400 border-b-2 border-indigo-400 font-medium' : 'text-slate-400 hover:text-slate-200'}`,
        children: "Visual Overview"
      }), /*#__PURE__*/_jsx("button", {
        onClick: () => setActiveTab('json'),
        className: `pb-2 px-1 transition-colors ${activeTab === 'json' ? 'text-indigo-400 border-b-2 border-indigo-400 font-medium' : 'text-slate-400 hover:text-slate-200'}`,
        children: "Raw JSON"
      })]
    }), activeTab === 'json' ? /*#__PURE__*/_jsx("pre", {
      className: "bg-black/50 p-4 rounded text-xs text-green-400 font-mono overflow-auto max-h-[500px] border border-slate-800",
      children: JSON.stringify(data, null, 2)
    }) : /*#__PURE__*/_jsxs("div", {
      className: "space-y-8",
      children: [/*#__PURE__*/_jsxs("div", {
        className: "flex items-center gap-6 mb-6",
        children: [/*#__PURE__*/_jsx("img", {
          src: `https://github.com/DZ-David/Morimens/blob/master/webapp/images/awakeners/${data.name}.png?raw=true`,
          alt: data.name,
          className: "w-24 h-24 rounded-lg border-2 border-indigo-500/30 object-cover shadow-lg bg-slate-800"
        }), /*#__PURE__*/_jsxs("div", {
          children: [/*#__PURE__*/_jsx("h2", {
            className: "text-2xl font-bold text-slate-100",
            children: data.name
          }), /*#__PURE__*/_jsxs("div", {
            className: "flex gap-2 mt-2",
            children: [/*#__PURE__*/_jsx(Badge, {
              color: data.faction === "CHAOS" ? "purple" : data.faction === "ORDER" ? "blue" : "red",
              children: data.faction
            }), /*#__PURE__*/_jsx(Badge, {
              color: data.type === "ATTACK" ? "red" : "blue",
              children: data.type
            })]
          })]
        })]
      }), /*#__PURE__*/_jsxs("section", {
        children: [/*#__PURE__*/_jsx(SectionHeader, {
          icon: Activity,
          title: "Base Statistics"
        }), /*#__PURE__*/_jsx("div", {
          className: "grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3",
          children: Object.entries(data.stats).map(([key, value]) => /*#__PURE__*/_jsxs("div", {
            className: "bg-slate-800 p-2 rounded border border-slate-700 flex flex-col items-center text-center",
            children: [/*#__PURE__*/_jsx("span", {
              className: "text-xs text-slate-400 uppercase tracking-wide mb-1",
              children: key
            }), /*#__PURE__*/_jsx("span", {
              className: "text-sm font-medium text-slate-100 break-all",
              children: value
            })]
          }, key))
        })]
      }), /*#__PURE__*/_jsxs("div", {
        className: "grid md:grid-cols-2 gap-8",
        children: [/*#__PURE__*/_jsxs("section", {
          children: [/*#__PURE__*/_jsx(SectionHeader, {
            icon: Sword,
            title: "Cards"
          }), /*#__PURE__*/_jsx("div", {
            className: "space-y-3",
            children: data.cards && Object.entries(data.cards).map(([key, value]) => /*#__PURE__*/_jsx("div", {
              className: "bg-slate-800 p-3 rounded border border-slate-700",
              children: /*#__PURE__*/_jsxs("div", {
                className: "flex items-start gap-3",
                children: [/*#__PURE__*/_jsx("div", {
                  className: "bg-indigo-900/50 text-indigo-200 px-2 py-1 rounded text-xs font-bold shrink-0 mt-0.5",
                  children: key
                }), /*#__PURE__*/_jsx("p", {
                  className: "text-sm text-slate-300 leading-relaxed whitespace-pre-wrap",
                  children: value
                })]
              })
            }, key))
          })]
        }), /*#__PURE__*/_jsxs("div", {
          className: "space-y-8",
          children: [/*#__PURE__*/_jsxs("section", {
            children: [/*#__PURE__*/_jsx(SectionHeader, {
              icon: Zap,
              title: "Exalts"
            }), /*#__PURE__*/_jsx("div", {
              className: "space-y-3",
              children: data.exalt && Object.entries(data.exalt).map(([key, value]) => /*#__PURE__*/_jsx("div", {
                className: "bg-slate-800 p-3 rounded border border-slate-700",
                children: /*#__PURE__*/_jsxs("div", {
                  className: "flex items-start gap-3",
                  children: [/*#__PURE__*/_jsx("div", {
                    className: "bg-amber-900/40 text-amber-200 px-2 py-1 rounded text-xs font-bold shrink-0 mt-0.5 uppercase",
                    children: key.replace('_', ' ')
                  }), /*#__PURE__*/_jsx("p", {
                    className: "text-sm text-slate-300 leading-relaxed whitespace-pre-wrap",
                    children: value
                  })]
                })
              }, key))
            })]
          }), /*#__PURE__*/_jsxs("section", {
            children: [/*#__PURE__*/_jsx(SectionHeader, {
              icon: Box,
              title: "Talents"
            }), /*#__PURE__*/_jsx("div", {
              className: "space-y-3",
              children: data.talents && Object.entries(data.talents).map(([key, value]) => /*#__PURE__*/_jsx("div", {
                className: "bg-slate-800 p-3 rounded border border-slate-700",
                children: /*#__PURE__*/_jsxs("div", {
                  className: "flex items-start gap-3",
                  children: [/*#__PURE__*/_jsx("div", {
                    className: "bg-teal-900/40 text-teal-200 px-2 py-1 rounded text-xs font-bold shrink-0 mt-0.5",
                    children: key
                  }), /*#__PURE__*/_jsx("p", {
                    className: "text-sm text-slate-300 leading-relaxed whitespace-pre-wrap",
                    children: value
                  })]
                })
              }, key))
            })]
          })]
        })]
      })]
    })]
  });
};
const CharacterRow = ({
  char
}) => {
  var _char$stats, _char$stats2, _char$stats3;
  const [isExpanded, setIsExpanded] = useState(false);
  const getFactionColor = f => {
    if (f === "CHAOS") return "purple";
    if (f === "ORDER") return "blue";
    if (f === "DESTRUCTION") return "red";
    return "gray";
  };
  const getTypeColor = t => {
    if (t === "ATTACK") return "red";
    if (t === "DEFENSE") return "blue";
    return "gray";
  };
  return /*#__PURE__*/_jsxs(_Fragment, {
    children: [/*#__PURE__*/_jsxs("tr", {
      onClick: () => setIsExpanded(!isExpanded),
      className: `
          group cursor-pointer transition-colors border-b border-slate-700
          ${isExpanded ? 'bg-slate-800' : 'bg-slate-800/40 hover:bg-slate-700/50'}
        `,
      children: [/*#__PURE__*/_jsxs("td", {
        className: "p-4 font-bold text-slate-100 text-lg flex items-center gap-4",
        children: [isExpanded ? /*#__PURE__*/_jsx(ChevronUp, {
          size: 20,
          className: "text-indigo-400 shrink-0"
        }) : /*#__PURE__*/_jsx(ChevronDown, {
          size: 20,
          className: "text-slate-500 group-hover:text-indigo-400 shrink-0"
        }), /*#__PURE__*/_jsx("img", {
          src: `https://github.com/DZ-David/Morimens/blob/master/webapp/images/awakeners/${char.name}.png?raw=true`,
          alt: char.name,
          className: "w-10 h-10 rounded-full border border-slate-600 object-cover bg-slate-800"
        }), char.name]
      }), /*#__PURE__*/_jsx("td", {
        className: "p-4",
        children: /*#__PURE__*/_jsx(Badge, {
          color: getFactionColor(char.faction),
          children: char.faction
        })
      }), /*#__PURE__*/_jsx("td", {
        className: "p-4",
        children: /*#__PURE__*/_jsx(Badge, {
          color: getTypeColor(char.type),
          children: char.type
        })
      }), /*#__PURE__*/_jsx("td", {
        className: "p-4 text-slate-300 font-mono text-sm whitespace-nowrap",
        children: ((_char$stats = char.stats) === null || _char$stats === void 0 ? void 0 : _char$stats.CON) || '-'
      }), /*#__PURE__*/_jsx("td", {
        className: "p-4 text-slate-300 font-mono text-sm whitespace-nowrap",
        children: ((_char$stats2 = char.stats) === null || _char$stats2 === void 0 ? void 0 : _char$stats2.ATK) || '-'
      }), /*#__PURE__*/_jsx("td", {
        className: "p-4 text-slate-300 font-mono text-sm whitespace-nowrap",
        children: ((_char$stats3 = char.stats) === null || _char$stats3 === void 0 ? void 0 : _char$stats3.DEF) || '-'
      })]
    }), isExpanded && /*#__PURE__*/_jsx("tr", {
      children: /*#__PURE__*/_jsx("td", {
        colSpan: "6",
        className: "p-0 border-b border-slate-700",
        children: /*#__PURE__*/_jsx(DetailRow, {
          data: char
        })
      })
    })]
  });
};
export default function App() {
  const [factionFilter, setFactionFilter] = useState('All');
  const [typeFilter, setTypeFilter] = useState('All');
  const [searchTerm, setSearchTerm] = useState('');
  const [searchScope, setSearchScope] = useState('global');

  // Sorting State
  const [sortConfig, setSortConfig] = useState({
    key: null,
    direction: 'asc'
  });

  // Extract unique options from data
  const factions = useMemo(() => ['All', ...new Set(initialData.map(c => c.faction))], []);
  const types = useMemo(() => ['All', ...new Set(initialData.map(c => c.type))], []);

  // Create Regex object safely
  const searchRegex = useMemo(() => {
    if (!searchTerm) return null;
    try {
      return new RegExp(searchTerm, 'i');
    } catch (e) {
      return null;
    }
  }, [searchTerm]);
  const requestSort = key => {
    let direction = 'asc';
    if (sortConfig.key === key && sortConfig.direction === 'asc') {
      direction = 'desc';
    }
    setSortConfig({
      key,
      direction
    });
  };
  const getSortValue = (item, key) => {
    if (key === 'name' || key === 'faction' || key === 'type') {
      return item[key];
    }
    // For stats, parse the number
    if (['CON', 'ATK', 'DEF'].includes(key)) {
      var _item$stats;
      const val = ((_item$stats = item.stats) === null || _item$stats === void 0 ? void 0 : _item$stats[key]) || '0';
      // Attempt to parse float from the start of the string (e.g. "132(1.65)*" -> 132)
      return parseFloat(val) || 0;
    }
    return '';
  };
  const filteredAndSortedData = useMemo(() => {
    // 1. Filter
    let result = initialData.filter(char => {
      const matchesFaction = factionFilter === 'All' || char.faction === factionFilter;
      const matchesType = typeFilter === 'All' || char.type === typeFilter;
      let matchesSearch = true;
      if (searchTerm) {
        if (!searchRegex) {
          matchesSearch = false;
        } else {
          let textToSearch = "";
          if (searchScope === 'global') {
            textToSearch = JSON.stringify(char);
          } else if (searchScope === 'cards') {
            textToSearch = JSON.stringify(char.cards || {});
          } else if (searchScope === 'exalt') {
            textToSearch = JSON.stringify(char.exalt || {});
          }
          matchesSearch = searchRegex.test(textToSearch);
        }
      }
      return matchesFaction && matchesType && matchesSearch;
    });

    // 2. Sort
    if (sortConfig.key !== null) {
      result.sort((a, b) => {
        const aValue = getSortValue(a, sortConfig.key);
        const bValue = getSortValue(b, sortConfig.key);
        if (aValue < bValue) {
          return sortConfig.direction === 'asc' ? -1 : 1;
        }
        if (aValue > bValue) {
          return sortConfig.direction === 'asc' ? 1 : -1;
        }
        return 0;
      });
    }
    return result;
  }, [factionFilter, typeFilter, searchTerm, searchScope, searchRegex, sortConfig]);
  const clearFilters = () => {
    setFactionFilter('All');
    setTypeFilter('All');
    setSearchTerm('');
    setSearchScope('global');
    setSortConfig({
      key: null,
      direction: 'asc'
    });
  };
  const isRegexInvalid = searchTerm.length > 0 && !searchRegex;
  return /*#__PURE__*/_jsx("div", {
    className: "min-h-screen bg-slate-950 text-slate-200 p-4 md:p-8 font-sans",
    children: /*#__PURE__*/_jsxs("div", {
      className: "max-w-7xl mx-auto",
      children: [/*#__PURE__*/_jsxs("div", {
        className: "mb-8 flex flex-col gap-6",
        children: [/*#__PURE__*/_jsxs("div", {
          className: "flex flex-col md:flex-row md:items-center justify-between gap-4",
          children: [/*#__PURE__*/_jsxs("div", {
            children: [/*#__PURE__*/_jsx("h1", {
              className: "text-3xl font-bold bg-gradient-to-r from-indigo-400 to-purple-400 bg-clip-text text-transparent",
              children: "Entity Database"
            }), /*#__PURE__*/_jsx("p", {
              className: "text-slate-400 mt-1",
              children: "Select a unit below to view combat specifications."
            })]
          }), /*#__PURE__*/_jsxs("div", {
            className: "text-xs text-slate-500 bg-slate-900 py-2 px-4 rounded border border-slate-800",
            children: [filteredAndSortedData.length, " Records Found"]
          })]
        }), /*#__PURE__*/_jsxs("div", {
          className: "bg-slate-900 p-4 rounded-lg border border-slate-800 flex flex-col gap-4",
          children: [/*#__PURE__*/_jsxs("div", {
            className: "flex flex-col md:flex-row gap-4",
            children: [/*#__PURE__*/_jsxs("div", {
              className: "relative flex-grow",
              children: [/*#__PURE__*/_jsx(Search, {
                size: 16,
                className: `absolute left-3 top-1/2 -translate-y-1/2 ${isRegexInvalid ? 'text-red-500' : 'text-slate-500'}`
              }), /*#__PURE__*/_jsx("input", {
                type: "text",
                placeholder: "Search with Regex (e.g., 'Poison|Bleed')...",
                value: searchTerm,
                onChange: e => setSearchTerm(e.target.value),
                className: `w-full bg-slate-800 text-slate-200 text-sm rounded border pl-10 pr-4 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none placeholder:text-slate-600 ${isRegexInvalid ? 'border-red-500 focus:ring-red-500' : 'border-slate-700'}`
              })]
            }), /*#__PURE__*/_jsxs("div", {
              className: "relative md:w-64 shrink-0",
              children: [/*#__PURE__*/_jsx("div", {
                className: "absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 text-xs uppercase font-bold tracking-wider pointer-events-none",
                children: "Scope:"
              }), /*#__PURE__*/_jsxs("select", {
                value: searchScope,
                onChange: e => setSearchScope(e.target.value),
                className: "appearance-none bg-slate-800 text-slate-200 text-sm rounded border border-slate-700 pl-16 pr-10 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none cursor-pointer hover:bg-slate-700 transition-colors w-full",
                children: [/*#__PURE__*/_jsx("option", {
                  value: "global",
                  children: "Entire Record"
                }), /*#__PURE__*/_jsx("option", {
                  value: "cards",
                  children: "Cards Only"
                }), /*#__PURE__*/_jsx("option", {
                  value: "exalt",
                  children: "Exalts Only"
                })]
              }), /*#__PURE__*/_jsx(ChevronDown, {
                size: 14,
                className: "absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 pointer-events-none"
              })]
            })]
          }), /*#__PURE__*/_jsxs("div", {
            className: "flex flex-wrap items-center gap-4 pt-4 border-t border-slate-800",
            children: [/*#__PURE__*/_jsxs("div", {
              className: "flex items-center gap-2 text-slate-400 mr-2",
              children: [/*#__PURE__*/_jsx(Filter, {
                size: 16
              }), /*#__PURE__*/_jsx("span", {
                className: "text-sm font-semibold uppercase tracking-wide",
                children: "Filters"
              })]
            }), /*#__PURE__*/_jsxs("div", {
              className: "flex flex-col sm:flex-row gap-4 flex-grow",
              children: [/*#__PURE__*/_jsxs("div", {
                className: "relative",
                children: [/*#__PURE__*/_jsx("select", {
                  value: factionFilter,
                  onChange: e => setFactionFilter(e.target.value),
                  className: "appearance-none bg-slate-800 text-slate-200 text-sm rounded border border-slate-700 pl-4 pr-10 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none cursor-pointer hover:bg-slate-700 transition-colors w-full sm:w-40",
                  children: factions.map(f => /*#__PURE__*/_jsx("option", {
                    value: f,
                    children: f === 'All' ? 'All Factions' : f
                  }, f))
                }), /*#__PURE__*/_jsx(ChevronDown, {
                  size: 14,
                  className: "absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 pointer-events-none"
                })]
              }), /*#__PURE__*/_jsxs("div", {
                className: "relative",
                children: [/*#__PURE__*/_jsx("select", {
                  value: typeFilter,
                  onChange: e => setTypeFilter(e.target.value),
                  className: "appearance-none bg-slate-800 text-slate-200 text-sm rounded border border-slate-700 pl-4 pr-10 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none cursor-pointer hover:bg-slate-700 transition-colors w-full sm:w-40",
                  children: types.map(t => /*#__PURE__*/_jsx("option", {
                    value: t,
                    children: t === 'All' ? 'All Types' : t
                  }, t))
                }), /*#__PURE__*/_jsx(ChevronDown, {
                  size: 14,
                  className: "absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 pointer-events-none"
                })]
              }), (factionFilter !== 'All' || typeFilter !== 'All' || searchTerm !== '' || sortConfig.key !== null) && /*#__PURE__*/_jsxs("button", {
                onClick: clearFilters,
                className: "text-xs text-red-400 hover:text-red-300 flex items-center gap-1 px-2 py-2 transition-colors ml-auto sm:ml-0",
                children: [/*#__PURE__*/_jsx(X, {
                  size: 14
                }), "Reset"]
              })]
            })]
          })]
        })]
      }), /*#__PURE__*/_jsx("div", {
        className: "overflow-hidden rounded-lg border border-slate-700 shadow-xl bg-slate-900",
        children: /*#__PURE__*/_jsxs("table", {
          className: "w-full text-left border-collapse",
          children: [/*#__PURE__*/_jsx("thead", {
            children: /*#__PURE__*/_jsxs("tr", {
              className: "bg-slate-900 border-b border-slate-700 text-slate-400 text-sm uppercase tracking-wider",
              children: [/*#__PURE__*/_jsx(SortableHeader, {
                label: "Name",
                sortKey: "name",
                currentSort: sortConfig,
                onSort: requestSort
              }), /*#__PURE__*/_jsx(SortableHeader, {
                label: "Faction",
                sortKey: "faction",
                currentSort: sortConfig,
                onSort: requestSort
              }), /*#__PURE__*/_jsx(SortableHeader, {
                label: "Type",
                sortKey: "type",
                currentSort: sortConfig,
                onSort: requestSort
              }), /*#__PURE__*/_jsx(SortableHeader, {
                label: "CON",
                sortKey: "CON",
                currentSort: sortConfig,
                onSort: requestSort
              }), /*#__PURE__*/_jsx(SortableHeader, {
                label: "ATK",
                sortKey: "ATK",
                currentSort: sortConfig,
                onSort: requestSort
              }), /*#__PURE__*/_jsx(SortableHeader, {
                label: "DEF",
                sortKey: "DEF",
                currentSort: sortConfig,
                onSort: requestSort
              })]
            })
          }), /*#__PURE__*/_jsx("tbody", {
            children: filteredAndSortedData.length > 0 ? filteredAndSortedData.map(char => /*#__PURE__*/_jsx(CharacterRow, {
              char: char
            }, char.id)) : /*#__PURE__*/_jsx("tr", {
              children: /*#__PURE__*/_jsx("td", {
                colSpan: "6",
                className: "p-12 text-center text-slate-500",
                children: "No entities found matching selected filters."
              })
            })
          })]
        })
      }), /*#__PURE__*/_jsx("div", {
        className: "mt-8 text-center text-slate-600 text-xs",
        children: "Click on any row to expand/collapse details."
      })]
    })
  });
}
</script>